<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>GraphQL API | Miasma</title><meta name="description" content="A Heroku-like, docker based PaaS with cluster and ARM support">
    <link rel="modulepreload" href="/miasma/assets/app.02a9e6a4.js"><link rel="modulepreload" href="/miasma/assets/graphql.html.600f66ae.js"><link rel="modulepreload" href="/miasma/assets/graphql.html.f7485bc5.js"><link rel="prefetch" href="/miasma/assets/authorization.html.e3b4f224.js"><link rel="prefetch" href="/miasma/assets/contributing.html.5916b5e1.js"><link rel="prefetch" href="/miasma/assets/faq.html.2330179d.js"><link rel="prefetch" href="/miasma/assets/index.html.4e52782e.js"><link rel="prefetch" href="/miasma/assets/app-communication.html.c55dca4e.js"><link rel="prefetch" href="/miasma/assets/examples.html.01687759.js"><link rel="prefetch" href="/miasma/assets/first-app.html.016a0083.js"><link rel="prefetch" href="/miasma/assets/installation.html.78575afa.js"><link rel="prefetch" href="/miasma/assets/port-management.html.3b5d4a10.js"><link rel="prefetch" href="/miasma/assets/index.html.15f37282.js"><link rel="prefetch" href="/miasma/assets/traefik.html.7481ef61.js"><link rel="prefetch" href="/miasma/assets/cli.html.2ac11cbb.js"><link rel="prefetch" href="/miasma/assets/server-config.html.91bdd373.js"><link rel="prefetch" href="/miasma/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/miasma/assets/authorization.html.5508f1cc.js"><link rel="prefetch" href="/miasma/assets/contributing.html.8a609145.js"><link rel="prefetch" href="/miasma/assets/faq.html.8e7d206f.js"><link rel="prefetch" href="/miasma/assets/index.html.b54ac741.js"><link rel="prefetch" href="/miasma/assets/app-communication.html.6b962deb.js"><link rel="prefetch" href="/miasma/assets/examples.html.e9bd11e2.js"><link rel="prefetch" href="/miasma/assets/first-app.html.f713233c.js"><link rel="prefetch" href="/miasma/assets/installation.html.754dccd6.js"><link rel="prefetch" href="/miasma/assets/port-management.html.dbfbcc26.js"><link rel="prefetch" href="/miasma/assets/index.html.9efde121.js"><link rel="prefetch" href="/miasma/assets/traefik.html.18428115.js"><link rel="prefetch" href="/miasma/assets/cli.html.e985c8d5.js"><link rel="prefetch" href="/miasma/assets/server-config.html.0335ef25.js"><link rel="prefetch" href="/miasma/assets/404.html.b7628bfc.js"><link rel="prefetch" href="/miasma/assets/404.1fa32442.js"><link rel="prefetch" href="/miasma/assets/Layout.574b3799.js">
    <link rel="stylesheet" href="/miasma/assets/style.61801a02.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/miasma/" class=""><!----><span class="site-name">Miasma</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/miasma/" class="" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Reference"><span class="title">Reference</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Reference"><span class="title">Reference</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Miasma</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/miasma/reference/server-config.html" class="" aria-label="Server Configuration"><!--[--><!--]--> Server Configuration <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/miasma/reference/cli.html" class="" aria-label="CLI"><!--[--><!--]--> CLI <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/miasma/reference/graphql.html" class="router-link-active router-link-exact-active router-link-active" aria-label="GraphQL API"><!--[--><!--]--> GraphQL API <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/aklinker1/miasma" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search ( / )" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/miasma/" class="" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Reference"><span class="title">Reference</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Reference"><span class="title">Reference</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Miasma</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/miasma/reference/server-config.html" class="" aria-label="Server Configuration"><!--[--><!--]--> Server Configuration <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/miasma/reference/cli.html" class="" aria-label="CLI"><!--[--><!--]--> CLI <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/miasma/reference/graphql.html" class="router-link-active router-link-exact-active router-link-active" aria-label="GraphQL API"><!--[--><!--]--> GraphQL API <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/aklinker1/miasma" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/miasma/reference/server-config.html" class="sidebar-item sidebar-heading" aria-label="Server Configuration"><!--[--><!--]--> Server Configuration <!--[--><!--]--></a><!----></li><li><a href="/miasma/reference/cli.html" class="sidebar-item sidebar-heading" aria-label="CLI"><!--[--><!--]--> CLI <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/miasma/reference/graphql.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="GraphQL API"><!--[--><!--]--> GraphQL API <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/miasma/reference/graphql.html#playground" class="router-link-active router-link-exact-active sidebar-item" aria-label="Playground"><!--[--><!--]--> Playground <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/miasma/reference/graphql.html#introspection" class="router-link-active router-link-exact-active sidebar-item" aria-label="Introspection"><!--[--><!--]--> Introspection <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/miasma/reference/graphql.html#changesets" class="router-link-active router-link-exact-active sidebar-item" aria-label="Changesets"><!--[--><!--]--> Changesets <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="graphql-api" tabindex="-1"><a class="header-anchor" href="#graphql-api" aria-hidden="true">#</a> GraphQL API</h1><p>The Miasma server ships with a GraphQL API for accessing and editing apps. Once your server has been started, you can access it at:</p><p><code>http://&lt;server-ip&gt;:3000/graphql</code></p><nav class="table-of-contents"><ul><li><a aria-current="page" href="/miasma/reference/graphql.html#playground" class="router-link-active router-link-exact-active">Playground</a></li><li><a aria-current="page" href="/miasma/reference/graphql.html#introspection" class="router-link-active router-link-exact-active">Introspection</a></li><li><a aria-current="page" href="/miasma/reference/graphql.html#changesets" class="router-link-active router-link-exact-active">Changesets</a></li><li><a aria-current="page" href="/miasma/reference/graphql.html#schema" class="router-link-active router-link-exact-active">Schema</a><ul><li><a aria-current="page" href="/miasma/reference/graphql.html#query" class="router-link-active router-link-exact-active">Query</a></li><li><a aria-current="page" href="/miasma/reference/graphql.html#mutation" class="router-link-active router-link-exact-active">Mutation</a></li><li><a aria-current="page" href="/miasma/reference/graphql.html#objects" class="router-link-active router-link-exact-active">Objects</a></li><li><a aria-current="page" href="/miasma/reference/graphql.html#inputs" class="router-link-active router-link-exact-active">Inputs</a></li><li><a aria-current="page" href="/miasma/reference/graphql.html#enums" class="router-link-active router-link-exact-active">Enums</a></li><li><a aria-current="page" href="/miasma/reference/graphql.html#scalars" class="router-link-active router-link-exact-active">Scalars</a></li></ul></li></ul></nav><h2 id="playground" tabindex="-1"><a class="header-anchor" href="#playground" aria-hidden="true">#</a> Playground</h2><p>The API includes a GraphiQL playground that lets you experiment with the API from the browser. No additional tools necessary! You can access it at:</p><p><code>http://&lt;server-ip&gt;:3000/playground</code></p><h2 id="introspection" tabindex="-1"><a class="header-anchor" href="#introspection" aria-hidden="true">#</a> Introspection</h2><p>The API also supports introspection so you can get docs inside a HTTP client like Insomnia or Postman.</p><h2 id="changesets" tabindex="-1"><a class="header-anchor" href="#changesets" aria-hidden="true">#</a> Changesets</h2><p>To perform partial updates of objects, the GraphQL API contains some input types with the <code>Changes</code> suffix, like <code>AppChanges</code>.</p><p>When using these types, the API will only update the fields provided in the JSON. That means excluding a field will not set it to <code>null</code>. To set a field to <code>null</code>, you would have to include the field as <code>null</code> for the API to make that change.</p><p>For example, if we want to change the app name, remove the group, and leave everything else as is:</p><div class="language-graphql ext-graphql"><pre class="language-graphql"><code><span class="token comment"># Query</span>
<span class="token keyword">mutation</span> <span class="token definition-mutation function">updateApp</span><span class="token punctuation">(</span><span class="token variable variable-input">$id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span><span class="token punctuation">,</span> <span class="token variable variable-input">$changes</span><span class="token punctuation">:</span> <span class="token class-name">AppChanges</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token property-query property-mutation">editApp</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token variable variable-input">$id</span><span class="token punctuation">,</span> <span class="token attr-name">changes</span><span class="token punctuation">:</span> <span class="token variable variable-input">$changes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json ext-json"><pre class="language-json"><code><span class="token comment">// Variables</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;changes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New Name&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="schema" tabindex="-1"><a class="header-anchor" href="#schema" aria-hidden="true">#</a> Schema</h2><h3 id="query" tabindex="-1"><a class="header-anchor" href="#query" aria-hidden="true">#</a> Query</h3><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>health</strong></td><td valign="top"><a href="#health">Health</a></td><td> Get the server&#39;s health and version information </td></tr><tr><td colspan="2" valign="top"><strong>listApps</strong></td><td valign="top">[<a href="#app">App</a>!]!</td><td> List the running apps </td></tr><tr><td colspan="2" align="right" valign="top">page</td><td valign="top"><a href="#int">Int</a></td><td> The page to start at for pagination, the first page is 1. </td></tr><tr><td colspan="2" align="right" valign="top">size</td><td valign="top"><a href="#int">Int</a></td><td> Number of apps to return per page. </td></tr><tr><td colspan="2" align="right" valign="top">showHidden</td><td valign="top"><a href="#boolean">Boolean</a></td><td> Whether or not to includes apps that are marked as hidden. </td></tr><tr><td colspan="2" valign="top"><strong>getApp</strong></td><td valign="top"><a href="#app">App</a>!</td><td> Grab an app by it&#39;s ID </td></tr><tr><td colspan="2" align="right" valign="top">id</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>listPlugins</strong></td><td valign="top">[<a href="#plugin">Plugin</a>!]!</td><td> List all the available plugins for Miasma </td></tr><tr><td colspan="2" valign="top"><strong>getPlugin</strong></td><td valign="top"><a href="#plugin">Plugin</a>!</td><td> Grab a plugin by it&#39;s name </td></tr><tr><td colspan="2" align="right" valign="top">pluginName</td><td valign="top"><a href="#pluginname">PluginName</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>nodes</strong></td><td valign="top">[<a href="#node">Node</a>!]!</td><td> List the nodes that are apart of the cluster </td></tr></tbody></table><h3 id="mutation" tabindex="-1"><a class="header-anchor" href="#mutation" aria-hidden="true">#</a> Mutation</h3><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>createApp</strong></td><td valign="top"><a href="#app">App</a>!</td><td> Create and start a new app. </td></tr><tr><td colspan="2" align="right" valign="top">input</td><td valign="top"><a href="#appinput">AppInput</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>editApp</strong></td><td valign="top"><a href="#app">App</a>!</td><td> Edit app configuration. </td></tr><tr><td colspan="2" align="right" valign="top">id</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" align="right" valign="top">changes</td><td valign="top"><a href="#appchanges">AppChanges</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>deleteApp</strong></td><td valign="top"><a href="#app">App</a>!</td><td> Stop and delete an app. </td></tr><tr><td colspan="2" align="right" valign="top">id</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>startApp</strong></td><td valign="top"><a href="#app">App</a>!</td><td> Start a stopped app. </td></tr><tr><td colspan="2" align="right" valign="top">id</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>stopApp</strong></td><td valign="top"><a href="#app">App</a>!</td><td> Stop a running app. </td></tr><tr><td colspan="2" align="right" valign="top">id</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>restartApp</strong></td><td valign="top"><a href="#app">App</a>!</td><td> Stop and restart an app. </td></tr><tr><td colspan="2" align="right" valign="top">id</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>upgradeApp</strong></td><td valign="top"><a href="#app">App</a>!</td><td> Pull the latest version of the app&#39;s image and then restart. </td></tr><tr><td colspan="2" align="right" valign="top">id</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>enablePlugin</strong></td><td valign="top"><a href="#plugin">Plugin</a>!</td><td> Enable one of Miasma&#39;s plugins. </td></tr><tr><td colspan="2" align="right" valign="top">name</td><td valign="top"><a href="#pluginname">PluginName</a>!</td><td> The name of the plugin to enable. </td></tr><tr><td colspan="2" align="right" valign="top">config</td><td valign="top"><a href="#map">Map</a></td><td> Any plugin specific configuration. </td></tr><tr><td colspan="2" valign="top"><strong>disablePlugin</strong></td><td valign="top"><a href="#plugin">Plugin</a>!</td><td> Disable one of Miasma&#39;s plugins. </td></tr><tr><td colspan="2" align="right" valign="top">name</td><td valign="top"><a href="#pluginname">PluginName</a>!</td><td> The name of the plugin to disable. </td></tr><tr><td colspan="2" valign="top"><strong>setAppEnv</strong></td><td valign="top"><a href="#map">Map</a></td><td> Set an app&#39;s environnement variables </td></tr><tr><td colspan="2" align="right" valign="top">appId</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" align="right" valign="top">newEnv</td><td valign="top"><a href="#map">Map</a></td><td> A map of variable names to their values. Docker only supports UPPER_SNAKE_CASE variable names </td></tr><tr><td colspan="2" valign="top"><strong>setAppRoute</strong></td><td valign="top"><a href="#route">Route</a></td><td> Set&#39;s an app&#39;s route. <p>Only available when the &#39;router&#39; plugin is enabled</p></td></tr><tr><td colspan="2" align="right" valign="top">appId</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" align="right" valign="top">route</td><td valign="top"><a href="#routeinput">RouteInput</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>removeAppRoute</strong></td><td valign="top"><a href="#route">Route</a></td><td> Removes an app&#39;s route. <p>Only available when the &#39;router&#39; plugin is enabled</p></td></tr><tr><td colspan="2" align="right" valign="top">appId</td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr></tbody></table><h3 id="objects" tabindex="-1"><a class="header-anchor" href="#objects" aria-hidden="true">#</a> Objects</h3><h4 id="app" tabindex="-1"><a class="header-anchor" href="#app" aria-hidden="true">#</a> App</h4><p>Managed application</p><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>id</strong></td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>createdAt</strong></td><td valign="top"><a href="#time">Time</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>updatedAt</strong></td><td valign="top"><a href="#time">Time</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>name</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The app name. Different from the docker service name, which is the name but lower case and all spaces replaced with dashes </td></tr><tr><td colspan="2" valign="top"><strong>system</strong></td><td valign="top"><a href="#boolean">Boolean</a>!</td><td> Whether or not the application is managed by the system. You cannot edit or delete system apps. </td></tr><tr><td colspan="2" valign="top"><strong>group</strong></td><td valign="top"><a href="#string">String</a></td><td> A string used to group the app </td></tr><tr><td colspan="2" valign="top"><strong>image</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The image and tag the application runs. </td></tr><tr><td colspan="2" valign="top"><strong>imageDigest</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The currently running image digest (hash). Used internally when running applications instead of the tag because the when a new image is pushed, the tag stays the same but the digest changes. </td></tr><tr><td colspan="2" valign="top"><strong>autoUpgrade</strong></td><td valign="top"><a href="#boolean">Boolean</a>!</td><td> Whether or not the app should automatically upgrade when a newer version of it&#39;s image is available. Defaults to `true` when creating an app <p>App upgrades are automatically checked according the the <code>AUTO_UPDATE_CRON</code> expression.</p></td></tr><tr><td colspan="2" valign="top"><strong>hidden</strong></td><td valign="top"><a href="#boolean">Boolean</a>!</td><td> Whether or not the app is returned during regular requests. </td></tr><tr><td colspan="2" valign="top"><strong>route</strong></td><td valign="top"><a href="#route">Route</a></td><td> If the app has a route and the traefik plugin is enabled, this is it&#39;s config. </td></tr><tr><td colspan="2" valign="top"><strong>simpleRoute</strong></td><td valign="top"><a href="#string">String</a></td><td> If the app has a route and the traefik plugin is enabled, this is a simple representation of it. </td></tr><tr><td colspan="2" valign="top"><strong>availableAt</strong></td><td valign="top">[<a href="#string">String</a>!]!</td><td> A list of URLs the application can be accessed at, including the `simpleRoute`, and all the published ports </td></tr><tr><td colspan="2" align="right" valign="top">clusterIpAddress</td><td valign="top"><a href="#string">String</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>env</strong></td><td valign="top"><a href="#map">Map</a></td><td> The environment variables configured for this app. </td></tr><tr><td colspan="2" valign="top"><strong>status</strong></td><td valign="top"><a href="#string">String</a>!</td><td> Whether or not the application is running, or stopped. </td></tr><tr><td colspan="2" valign="top"><strong>instances</strong></td><td valign="top"><a href="#appinstances">AppInstances</a>!</td><td> The number of instances running vs what should be running. </td></tr><tr><td colspan="2" valign="top"><strong>targetPorts</strong></td><td valign="top">[<a href="#int">Int</a>!]</td><td> The ports that the app is listening to inside the container. If no target ports are specified, then the container should respect the `PORT` env var. </td></tr><tr><td colspan="2" valign="top"><strong>publishedPorts</strong></td><td valign="top">[<a href="#int">Int</a>!]</td><td> The ports that you access the app through in the swarm. This field can, and should be left empty. Miasma automatically manages assigning published ports between 3001-4999. If you need to specify a port, make sure it&#39;s outside that range or the port has not been taken. Plugins have set ports starting with 4000, so avoid 4000-4020 if you want to add a plugin at a later date. <p>If these ports are ever cleared, the app will continue using the same ports it was published to before, so that the ports don&#39;t change unnecessarily. If you removed it to clear a port for another app/plugin, make sure to restart the app and a new, random port will be allocated for the app, freeing the old port.</p></td></tr><tr><td colspan="2" valign="top"><strong>placement</strong></td><td valign="top">[<a href="#string">String</a>!]</td><td> The placement constraints specifying which nodes the app will be ran on. Any valid value for the [`--constraint` flag](https://docs.docker.com/engine/swarm/services/#placement-constraints) is valid item in this list. </td></tr><tr><td colspan="2" valign="top"><strong>volumes</strong></td><td valign="top">[<a href="#boundvolume">BoundVolume</a>!]</td><td> Volume bindings for the app. </td></tr><tr><td colspan="2" valign="top"><strong>networks</strong></td><td valign="top">[<a href="#string">String</a>!]</td><td> A list of other apps that the service communicates with using their service name and docker&#39;s internal DNS. Services don&#39;t have to be two way; only the service that accesses the other needs the other network added. </td></tr><tr><td colspan="2" valign="top"><strong>command</strong></td><td valign="top">[<a href="#string">String</a>!]</td><td> Custom docker command. This is an array of arguments starting with the binary that is being executed </td></tr></tbody></table><h4 id="appinstances" tabindex="-1"><a class="header-anchor" href="#appinstances" aria-hidden="true">#</a> AppInstances</h4><p>Contains information about how many instances of the app are running vs supposed to be running</p><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>running</strong></td><td valign="top"><a href="#int">Int</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>total</strong></td><td valign="top"><a href="#int">Int</a>!</td><td></td></tr></tbody></table><h4 id="boundvolume" tabindex="-1"><a class="header-anchor" href="#boundvolume" aria-hidden="true">#</a> BoundVolume</h4><p>Docker volume configuration</p><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>target</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The path inside the container that the data is served from. </td></tr><tr><td colspan="2" valign="top"><strong>source</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The volume name or directory on the host that the data is stored in. </td></tr></tbody></table><h4 id="clusterinfo" tabindex="-1"><a class="header-anchor" href="#clusterinfo" aria-hidden="true">#</a> ClusterInfo</h4><p>Contains useful information about the cluster.</p><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>id</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The Docker swarm ID </td></tr><tr><td colspan="2" valign="top"><strong>joinCommand</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The command to run on other machines to join the cluster </td></tr><tr><td colspan="2" valign="top"><strong>createdAt</strong></td><td valign="top"><a href="#time">Time</a>!</td><td> When the cluster was initialized </td></tr><tr><td colspan="2" valign="top"><strong>updatedAt</strong></td><td valign="top"><a href="#time">Time</a>!</td><td> When the cluster was last updated </td></tr></tbody></table><h4 id="health" tabindex="-1"><a class="header-anchor" href="#health" aria-hidden="true">#</a> Health</h4><p>Server health and version information</p><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>version</strong></td><td valign="top"><a href="#string">String</a>!</td><td> Miasma server&#39;s current version. </td></tr><tr><td colspan="2" valign="top"><strong>dockerVersion</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The version of docker running on the host, or null if docker is not running. </td></tr><tr><td colspan="2" valign="top"><strong>cluster</strong></td><td valign="top"><a href="#clusterinfo">ClusterInfo</a></td><td> The cluster versioning and information, or `null` if not apart of a cluster. </td></tr></tbody></table><h4 id="node" tabindex="-1"><a class="header-anchor" href="#node" aria-hidden="true">#</a> Node</h4><p>Details about a machine in the cluster.</p><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>id</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The docker node&#39;s ID. </td></tr><tr><td colspan="2" valign="top"><strong>os</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The OS the node is running </td></tr><tr><td colspan="2" valign="top"><strong>architecture</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The CPU architecture of the node. Services are automatically placed on nodes based on their image&#39;s supported architectures and the nodes&#39; architectures. </td></tr><tr><td colspan="2" valign="top"><strong>hostname</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The machines hostname, as returned by the `hostname` command. </td></tr><tr><td colspan="2" valign="top"><strong>ip</strong></td><td valign="top"><a href="#string">String</a>!</td><td> The IP address the node joined the cluster as. </td></tr><tr><td colspan="2" valign="top"><strong>status</strong></td><td valign="top"><a href="#string">String</a>!</td><td> `unknown`, `down`, `ready`, or `disconnected`. See Docker&#39;s [API docs](https://docs.docker.com/engine/api/v1.41/#operation/NodeInspect). </td></tr><tr><td colspan="2" valign="top"><strong>statusMessage</strong></td><td valign="top"><a href="#string">String</a></td><td> The node&#39;s status message, usually present when when the status is not `ready`. </td></tr><tr><td colspan="2" valign="top"><strong>labels</strong></td><td valign="top"><a href="#map">Map</a>!</td><td> The node&#39;s labels, mostly used to place apps on specific nodes. </td></tr><tr><td colspan="2" valign="top"><strong>services</strong></td><td valign="top">[<a href="#app">App</a>!]!</td><td> List of apps running on the machine </td></tr><tr><td colspan="2" align="right" valign="top">showHidden</td><td valign="top"><a href="#boolean">Boolean</a></td><td> Same as `listApps`&#39;s argument. When `true`, hidden apps will be returned </td></tr></tbody></table><h4 id="plugin" tabindex="-1"><a class="header-anchor" href="#plugin" aria-hidden="true">#</a> Plugin</h4><p>Plugins are apps with deeper integrations with Miasma.</p><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>name</strong></td><td valign="top"><a href="#pluginname">PluginName</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>enabled</strong></td><td valign="top"><a href="#boolean">Boolean</a>!</td><td> Whether or not the plugin has been enabled. </td></tr><tr><td colspan="2" valign="top"><strong>config</strong></td><td valign="top"><a href="#map">Map</a>!</td><td> Plugin&#39;s configuration. </td></tr></tbody></table><h4 id="route" tabindex="-1"><a class="header-anchor" href="#route" aria-hidden="true">#</a> Route</h4><p>Rules around where an app can be accessed from.</p><table><thead><tr><th align="left">Field</th><th align="right">Argument</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>appId</strong></td><td valign="top"><a href="#id">ID</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>createdAt</strong></td><td valign="top"><a href="#time">Time</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>updatedAt</strong></td><td valign="top"><a href="#time">Time</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>host</strong></td><td valign="top"><a href="#string">String</a></td><td> The URL&#39;s hostname, ex: &#39;example.com&#39; or &#39;google.com&#39;. </td></tr><tr><td colspan="2" valign="top"><strong>path</strong></td><td valign="top"><a href="#string">String</a></td><td> A custom path at the end of the URL: ex: &#39;/search&#39; or &#39;/console&#39; </td></tr><tr><td colspan="2" valign="top"><strong>traefikRule</strong></td><td valign="top"><a href="#string">String</a></td><td> A custom Traefik rule instead of just a host and path, ex: &#39;(Host(domain1.com) || Host(domain2.com)&#39; <p>See <a href="https://doc.traefik.io/traefik/routing/routers/#rule" target="_blank" rel="noopener noreferrer">Traefik&#39;s docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for usage and complex examples.</p></td></tr></tbody></table><h3 id="inputs" tabindex="-1"><a class="header-anchor" href="#inputs" aria-hidden="true">#</a> Inputs</h3><h4 id="appchanges" tabindex="-1"><a class="header-anchor" href="#appchanges" aria-hidden="true">#</a> AppChanges</h4><p><a href="#Changeset">Changeset</a> input type for <a href="#app">App</a>.</p><table><thead><tr><th colspan="2" align="left">Field</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>name</strong></td><td valign="top"><a href="#string">String</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>image</strong></td><td valign="top"><a href="#string">String</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>group</strong></td><td valign="top"><a href="#string">String</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>hidden</strong></td><td valign="top"><a href="#boolean">Boolean</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>targetPorts</strong></td><td valign="top">[<a href="#int">Int</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>publishedPorts</strong></td><td valign="top">[<a href="#int">Int</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>placement</strong></td><td valign="top">[<a href="#string">String</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>volumes</strong></td><td valign="top">[<a href="#boundvolumeinput">BoundVolumeInput</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>networks</strong></td><td valign="top">[<a href="#string">String</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>command</strong></td><td valign="top">[<a href="#string">String</a>!]</td><td></td></tr></tbody></table><h4 id="appinput" tabindex="-1"><a class="header-anchor" href="#appinput" aria-hidden="true">#</a> AppInput</h4><p>Input type for <a href="#app">App</a>.</p><table><thead><tr><th colspan="2" align="left">Field</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>name</strong></td><td valign="top"><a href="#string">String</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>image</strong></td><td valign="top"><a href="#string">String</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>autoUpgrade</strong></td><td valign="top"><a href="#boolean">Boolean</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>group</strong></td><td valign="top"><a href="#string">String</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>hidden</strong></td><td valign="top"><a href="#boolean">Boolean</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>targetPorts</strong></td><td valign="top">[<a href="#int">Int</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>publishedPorts</strong></td><td valign="top">[<a href="#int">Int</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>placement</strong></td><td valign="top">[<a href="#string">String</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>volumes</strong></td><td valign="top">[<a href="#boundvolumeinput">BoundVolumeInput</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>networks</strong></td><td valign="top">[<a href="#string">String</a>!]</td><td></td></tr><tr><td colspan="2" valign="top"><strong>command</strong></td><td valign="top">[<a href="#string">String</a>!]</td><td></td></tr></tbody></table><h4 id="boundvolumeinput" tabindex="-1"><a class="header-anchor" href="#boundvolumeinput" aria-hidden="true">#</a> BoundVolumeInput</h4><p>Input type for <a href="#boundvolume">BoundVolume</a>.</p><table><thead><tr><th colspan="2" align="left">Field</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>target</strong></td><td valign="top"><a href="#string">String</a>!</td><td></td></tr><tr><td colspan="2" valign="top"><strong>source</strong></td><td valign="top"><a href="#string">String</a>!</td><td></td></tr></tbody></table><h4 id="routeinput" tabindex="-1"><a class="header-anchor" href="#routeinput" aria-hidden="true">#</a> RouteInput</h4><p>Input type for <a href="#route">Route</a>.</p><table><thead><tr><th colspan="2" align="left">Field</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td colspan="2" valign="top"><strong>host</strong></td><td valign="top"><a href="#string">String</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>path</strong></td><td valign="top"><a href="#string">String</a></td><td></td></tr><tr><td colspan="2" valign="top"><strong>traefikRule</strong></td><td valign="top"><a href="#string">String</a></td><td></td></tr></tbody></table><h3 id="enums" tabindex="-1"><a class="header-anchor" href="#enums" aria-hidden="true">#</a> Enums</h3><h4 id="pluginname" tabindex="-1"><a class="header-anchor" href="#pluginname" aria-hidden="true">#</a> PluginName</h4><p>Unique identifier for plugins</p><table><thead><th align="left">Value</th><th align="left">Description</th></thead><tbody><tr><td valign="top"><strong>TRAEFIK</strong></td><td> The name of the [Traefik](https://doc.traefik.io/traefik/) ingress router plugin </td></tr></tbody></table><h3 id="scalars" tabindex="-1"><a class="header-anchor" href="#scalars" aria-hidden="true">#</a> Scalars</h3><h4 id="boolean" tabindex="-1"><a class="header-anchor" href="#boolean" aria-hidden="true">#</a> Boolean</h4><p>The <code>Boolean</code> scalar type represents <code>true</code> or <code>false</code>.</p><h4 id="id" tabindex="-1"><a class="header-anchor" href="#id" aria-hidden="true">#</a> ID</h4><p>The <code>ID</code> scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as <code>&quot;4&quot;</code>) or integer (such as <code>4</code>) input value will be accepted as an ID.</p><h4 id="int" tabindex="-1"><a class="header-anchor" href="#int" aria-hidden="true">#</a> Int</h4><p>The <code>Int</code> scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.</p><h4 id="map" tabindex="-1"><a class="header-anchor" href="#map" aria-hidden="true">#</a> Map</h4><p>A JSON map of key-value pairs. Values can be any type.</p><h4 id="string" tabindex="-1"><a class="header-anchor" href="#string" aria-hidden="true">#</a> String</h4><p>The <code>String</code> scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.</p><h4 id="time" tabindex="-1"><a class="header-anchor" href="#time" aria-hidden="true">#</a> Time</h4><p>ISO 8601 date time string.</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/aklinker1/miasma/edit/main/docs/docs/reference/graphql.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: aklinker1@users.noreply.github.com">Aaron</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: aaronklinker1@gmail.com">Aaron Klinker</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: aklinker1@users.noreply.github.com">Aaron Klinker</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/miasma/reference/cli.html" class="" aria-label="CLI"><!--[--><!--]--> CLI <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/miasma/assets/app.02a9e6a4.js" defer></script>
  </body>
</html>
